ARG BASE_IMAGE=ifzzh520/pdf-babel-backend-base:1.1.0
FROM ${BASE_IMAGE}

WORKDIR /app

COPY backend ./backend

ENV BABELDOC_DATA_ROOT=/data \
    BABELDOC_PLATFORM_CONFIG=/data/config/platform.json \
    BABELDOC_LOG_LEVEL=INFO \
    BABELDOC_TIMEZONE=Asia/Shanghai

EXPOSE 8000

CMD ["uvicorn", "backend.main:app", "--host", "0.0.0.0", "--port", "8000"]
